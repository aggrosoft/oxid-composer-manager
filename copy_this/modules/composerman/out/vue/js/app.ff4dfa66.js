(function(e){function t(t){for(var a,s,i=t[0],c=t[1],u=t[2],d=0,p=[];d<i.length;d++)s=i[d],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&p.push(r[s][0]),r[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);l&&l(t);while(p.length)p.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,i=1;i<n.length;i++){var c=n[i];0!==r[c]&&(a=!1)}a&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},r={app:0},o=[];function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/modules/composerman/out/vue/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var u=0;u<i.length;u++)t(i[u]);var l=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"065a":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{attrs:{id:"inspire"}},[n("v-app-bar",{attrs:{app:"",color:"secondary",dark:""}},[n("v-toolbar-title",[e._v("Paketverwaltung")]),n("v-spacer"),n("ComposerJsonDialog"),n("ComposerRepositoriesDialog"),n("CommandDialog"),n("ConsoleDialog")],1),n("v-content",[n("v-container",{staticClass:"fill-height"},[n("v-row",[n("v-col",{staticClass:"text-center",attrs:{cols:"12"}},[n("PackageList")],1)],1),n("v-row",[n("v-col",{attrs:{cols:"12"}},[n("PackageForm")],1)],1)],1)],1),n("v-footer",{attrs:{color:"secondary",app:""}},[n("span",{staticClass:"white--text"},[e._v("© 2020 "),n("a",{staticClass:"white--text",attrs:{href:"https://www.aggrosoft.de"}},[e._v("Aggrosoft GmbH")])])])],1)},o=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-card-title",[n("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Installierte Pakete durchsuchen","single-line":"","hide-details":""},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1),n("v-data-table",{attrs:{items:e.packages,headers:e.headers,loading:e.loading,search:e.search},scopedSlots:e._u([{key:"item.version",fn:function(t){var a=t.item;return[n("v-chip",[e._v(" "+e._s(a.version)+" ")])]}},{key:"item.description",fn:function(t){var a=t.item;return[n("span",{staticClass:"ellipsis"},[e._v(" "+e._s(a.description)+" ")])]}},{key:"item.latest",fn:function(t){var a=t.item;return[n("v-chip",{attrs:{color:e.versionColor(a)}},[e._v(" "+e._s(a.latest)+" ")])]}},{key:"item.latest-status",fn:function(t){var a=t.item;return[n("span",{domProps:{innerHTML:e._s(e.statusText(a))}})]}},{key:"item.action",fn:function(t){var a=t.item;return[n("v-flex",[n("v-btn",{staticClass:"mr-lg-2",attrs:{fab:"",color:e.isUpdatable(a)?"primary":"",text:"",icon:"",small:""},on:{click:function(t){return t.stopPropagation(),e.clickUpdatePackage(a)}}},[n("v-icon",[e._v(" mdi-refresh ")])],1),n("v-btn",{attrs:{fab:"",color:"red darken-1",text:"",icon:"",small:""},on:{click:function(t){return t.stopPropagation(),e.clickDeletePackage(a)}}},[n("v-icon",[e._v(" mdi-delete ")])],1)],1)]}}])}),n("ConfirmDialog",{ref:"confirm"}),n("ProgressDialog",{attrs:{message:e.progressMessage},model:{value:e.progress,callback:function(t){e.progress=t},expression:"progress"}})],1)},i=[],c=(n("b0c0"),n("96cf"),n("1da1")),u=n("5530"),l=n("2f62"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{style:{zIndex:e.options.zIndex},attrs:{"max-width":e.options.width},on:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.cancel(t)}},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",[n("v-toolbar",{attrs:{dark:"",color:e.options.color,dense:"",flat:""}},[n("v-toolbar-title",{staticClass:"white--text"},[e._v(e._s(e.title))])],1),n("v-card-text",{directives:[{name:"show",rawName:"v-show",value:!!e.message,expression:"!!message"}],staticClass:"pa-4"},[e._v(e._s(e.message))]),n("v-card-actions",{staticClass:"pt-0"},[n("v-spacer"),this.options.showCancel?n("v-btn",{attrs:{color:"grey",text:""},nativeOn:{click:function(t){return e.cancel(t)}}},[e._v("Abbruch")]):e._e(),this.options.showContinue?n("v-btn",{attrs:{color:"primary darken-1",text:""},nativeOn:{click:function(t){return e.agree(t)}}},[e._v("Weiter")]):e._e()],1)],1)],1)},p=[],m=(n("d3b7"),{name:"ConfirmDialog",data:function(){return{dialog:!1,resolve:null,reject:null,message:null,title:null,options:{color:"secondary darken-3",width:350,zIndex:200,showCancel:!0,showContinue:!0}}},methods:{open:function(e,t,n){var a=this;return this.dialog=!0,this.title=e,this.message=t,this.options=Object.assign(this.options,n),new Promise((function(e,t){a.resolve=e,a.reject=t}))},agree:function(){this.resolve(!0),this.dialog=!1},cancel:function(){this.resolve(!1),this.dialog=!1}}}),v=m,g=n("2877"),h=n("6544"),f=n.n(h),b=n("8336"),k=n("b0af"),x=n("99d9"),C=n("169a"),w=n("2fa4"),y=n("71d9"),V=n("2a7f"),_=Object(g["a"])(v,d,p,!1,null,"28b417b8",null),P=_.exports;f()(_,{VBtn:b["a"],VCard:k["a"],VCardActions:x["a"],VCardText:x["b"],VDialog:C["a"],VSpacer:w["a"],VToolbar:y["a"],VToolbarTitle:V["a"]});var j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{persistent:!e.message,width:"500"},on:{input:e.onInput},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[n("v-card",{attrs:{color:"primary",dark:""}},[e.message?n("v-card-title",[e._v("Befehlsausgabe")]):n("v-card-title",[e._v(e._s(e.title))]),n("v-card-text",[e.message?e._e():n("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}}),e.message?n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.message,expression:"message"}],staticClass:"mt-6 pa-3 blue-grey darken-4 white--text",staticStyle:{width:"100%"},attrs:{readonly:"",rows:"5"},domProps:{value:e.message},on:{input:function(t){t.target.composing||(e.message=t.target.value)}}}):e._e()],1)],1)],1)},O=[],J={name:"ProgressDialog",data:function(){return{dialog:!1}},props:{value:Boolean,message:String,title:{type:String,default:"Bitte warten ..."}},watch:{value:function(e){this.dialog=e},dialog:function(e){this.$emit("change",e)}},methods:{onInput:function(e){this.$emit("input",e)}}},T=J,S=n("8e36"),R=Object(g["a"])(T,j,O,!1,null,"654977b6",null),D=R.exports;f()(R,{VCard:k["a"],VCardText:x["b"],VCardTitle:x["c"],VDialog:C["a"],VProgressLinear:S["a"]});var M={name:"PackageList",components:{ProgressDialog:D,ConfirmDialog:P},mounted:function(){this.initPackages()},data:function(){return{headers:[{text:"Titel",value:"name"},{text:"Version",value:"version"},{text:"Neueste Version",value:"latest"},{text:"Status",value:"latest-status"},{text:"Beschreibung",value:"description"},{text:"Aktionen",value:"action",sortable:!1}],search:"",progress:!1,progressMessage:void 0}},computed:Object(u["a"])({},Object(l["c"])(["packages","loading"])),methods:Object(u["a"])({versionColor:function(e){return"semver-safe-update"===e["latest-status"]?"green":"update-possible"===e["latest-status"]?"orange":void 0},statusText:function(e){return"semver-safe-update"===e["latest-status"]?"Sicheres Update":"update-possible"===e["latest-status"]?"Update möglich":"up-to-date"===e["latest-status"]?"Aktuell":e["latest-status"]},isUpdatable:function(e){return"up-to-date"!==e["latest-status"]},clickUpdatePackage:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.confirm.open("Paket aktualisieren?",'Wollen Sie das gewählte Paket "'+t.name+'" wirklich aktualisieren?');case 2:if(!e.sent){e.next=16;break}return this.progressMessage=void 0,this.progress=!0,e.prev=5,e.next=8,this.updatePackage(t.name);case 8:n=e.sent,this.progressMessage=n,e.next=16;break;case 12:return e.prev=12,e.t0=e["catch"](5),this.progressMessage=e.t0.response,e.abrupt("return");case 16:case"end":return e.stop()}}),e,this,[[5,12]])})));function t(t){return e.apply(this,arguments)}return t}(),clickDeletePackage:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.confirm.open("Paket entfernen?",'Wollen Sie das gewählte Paket "'+t.name+'" wirklich löschen? Dieser Vorgang kann das System unbrauchbar machen, es werden nur Pakete vom Typ "oxideshop-module" gelöscht.');case 2:if(!e.sent){e.next=16;break}return this.progressMessage=void 0,this.progress=!0,e.prev=5,e.next=8,this.removePackage(t.name);case 8:n=e.sent,this.progressMessage=n,e.next=16;break;case 12:return e.prev=12,e.t0=e["catch"](5),this.progressMessage=e.t0.response,e.abrupt("return");case 16:case"end":return e.stop()}}),e,this,[[5,12]])})));function t(t){return e.apply(this,arguments)}return t}()},Object(l["b"])(["initPackages","updatePackage","removePackage"]))},I=M,L=(n("cf72"),n("cc20")),A=n("8fea"),$=n("0e8f"),U=n("132d"),B=n("8654"),F=Object(g["a"])(I,s,i,!1,null,"2fd31d99",null),E=F.exports;f()(F,{VBtn:b["a"],VCard:k["a"],VCardTitle:x["c"],VChip:L["a"],VDataTable:A["a"],VFlex:$["a"],VIcon:U["a"],VTextField:B["a"]});var z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-form",[n("v-container",{attrs:{fluid:""}},[n("v-row",{attrs:{align:"center"}},[n("v-col",{attrs:{cols:"4"}},[n("v-select",{attrs:{label:"Suchen nach Pakettyp",items:e.packageTypes,"prepend-icon":"mdi-briefcase-search","return-object":"","hide-details":""},model:{value:e.packageType,callback:function(t){e.packageType=t},expression:"packageType"}})],1),n("v-col",{attrs:{cols:"5"}},[n("v-autocomplete",{attrs:{items:e.items,loading:e.isLoading,"search-input":e.search,"hide-no-data":"","hide-selected":"","item-text":"name","item-value":"name",label:"Paket wählen",placeholder:"Geben Sie den Paketnamen ein um zu Suchen","prepend-icon":"mdi-database-search","return-object":!1,clearable:"","hide-details":""},on:{"update:searchInput":function(t){e.search=t},"update:search-input":function(t){e.search=t}},scopedSlots:e._u([{key:"item",fn:function(t){return["object"!==typeof t.item?[n("v-list-item-content",{domProps:{textContent:e._s(t.item)}})]:[n("v-list-item-content",[n("v-list-item-title",{domProps:{innerHTML:e._s(t.item.name)}}),n("v-list-item-subtitle",{domProps:{innerHTML:e._s(t.item.description)}})],1)]]}}]),model:{value:e.selectedPackage,callback:function(t){e.selectedPackage=t},expression:"selectedPackage"}})],1),n("v-col",{attrs:{cols:"3"}},[n("v-btn",{attrs:{color:"primary",disabled:!e.selectedPackage,small:""},on:{click:e.clickAddPackage}},[n("v-icon",[e._v("mdi-plus")]),e._v(" Hinzufügen ")],1)],1)],1)],1)],1),n("ProgressDialog",{attrs:{message:e.progressMessage},model:{value:e.progress,callback:function(t){e.progress=t},expression:"progress"}})],1)},N=[],H=(n("99af"),n("ac1f"),n("841c"),n("ddb0"),n("bc3a")),K=n.n(H),W=K.a.create(),G={name:"PackageForm",components:{ProgressDialog:D},data:function(){return{entries:[],isLoading:!1,selectedPackage:null,search:null,packageType:void 0,progress:!1,progressMessage:void 0,packageTypes:[{text:"Module",value:"oxideshop-module"},{text:"Themes",value:"oxideshop-theme"},{text:"Alle Pakettypen",value:""}]}},computed:{items:function(){return this.search?this.entries.concat([{name:this.search}]):this.entries}},watch:{search:function(e){var t=this;this.timeout&&clearTimeout(this.timeout),e&&(this.isLoading=!0,this.timeout=setTimeout((function(){t.apiQuery()}),400))}},methods:Object(u["a"])({apiQuery:function(){var e=this;W.get("https://packagist.org/search.json",{params:{q:this.search,type:this.packageType?this.packageType.value:""}}).then((function(t){var n=t.data,a=n.total,r=n.results;e.count=a,e.entries=r})).catch((function(e){console.log(e)})).finally((function(){return e.isLoading=!1}))},clickAddPackage:function(){var e=this;return Object(c["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.selectedPackage){t.next=14;break}return e.progressMessage=void 0,e.progress=!0,t.prev=3,t.next=6,e.addPackage(e.selectedPackage);case 6:n=t.sent,e.progressMessage=n,t.next=14;break;case 10:return t.prev=10,t.t0=t["catch"](3),e.progressMessage=t.t0.response,t.abrupt("return");case 14:case"end":return t.stop()}}),t,null,[[3,10]])})))()}},Object(l["b"])(["addPackage"]))},q=G,Q=n("c6a6"),X=n("62ad"),Y=n("a523"),Z=n("4bd4"),ee=n("5d23"),te=n("0fd9"),ne=n("b974"),ae=Object(g["a"])(q,z,N,!1,null,"622872f6",null),re=ae.exports;f()(ae,{VAutocomplete:Q["a"],VBtn:b["a"],VCard:k["a"],VCol:X["a"],VContainer:Y["a"],VForm:Z["a"],VIcon:U["a"],VListItemContent:ee["a"],VListItemSubtitle:ee["b"],VListItemTitle:ee["c"],VRow:te["a"],VSelect:ne["a"]});var oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{value:e.value,width:"1000"},on:{input:e.onInput},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({staticClass:"mr-2",attrs:{color:"deep-orange",fab:""}},a),[n("v-icon",[e._v("mdi-console")])],1)]}}])},[n("v-card",[n("v-card-title",{staticClass:"headline",attrs:{"primary-title":""}},[e._v(" Composer Kommando ausführen ")]),n("v-card-text",[e._v(" Geben Sie ein beliebiges Composer Kommando ein, weitere Informationen finden Sie in der "),n("a",{attrs:{href:"https://getcomposer.org/doc/03-cli.md",target:"_blank"}},[e._v("Dokumentation")]),n("v-text-field",{staticClass:"mt-3",attrs:{label:"Kommando",placeholder:"z.B. composer update",outlined:""},model:{value:e.cmd,callback:function(t){e.cmd=t},expression:"cmd"}}),e.output?n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.output,expression:"output"}],staticClass:"pa-3 blue-grey darken-4 white--text",staticStyle:{width:"100%"},attrs:{readonly:"",rows:"5"},domProps:{value:e.output},on:{input:function(t){t.target.composing||(e.output=t.target.value)}}}):e._e()],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary",text:""},on:{click:e.submitCommand}},[e._v(" Ausführen ")])],1)],1)],1)},se=[],ie={name:"CommandDialog",props:["value"],data:function(){return{cmd:"",output:!1}},methods:Object(u["a"])({onInput:function(e){this.$emit("input",e)},submitCommand:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.output=!1,e.next=3,this.runCommand(this.cmd);case 3:this.output=e.sent;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},Object(l["b"])(["runCommand"]))},ce=ie,ue=n("ce7e"),le=Object(g["a"])(ce,oe,se,!1,null,"549ac5b2",null),de=le.exports;f()(le,{VBtn:b["a"],VCard:k["a"],VCardActions:x["a"],VCardText:x["b"],VCardTitle:x["c"],VDialog:C["a"],VDivider:ue["a"],VIcon:U["a"],VSpacer:w["a"],VTextField:B["a"]});var pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{value:e.value,width:"1000",scrollable:""},on:{input:e.onInput},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({staticClass:"mr-2",attrs:{color:"deep-orange",fab:""}},a),[n("v-icon",[e._v("mdi-file-cog")])],1)]}}])},[n("v-card",{attrs:{loading:e.loading}},[n("v-card-title",{staticClass:"headline",attrs:{"primary-title":""}},[e._v(" Composer Datei bearbeiten ")]),n("v-card-text",[n("VuePrismEditor",{attrs:{language:"json"},model:{value:e.contents,callback:function(t){e.contents=t},expression:"contents"}})],1),n("v-divider"),n("v-card-actions",[e.valid?e._e():n("v-alert",{attrs:{border:"right","colored-border":"",type:"error",elevation:"2",dense:""}},[e._v(" Die Datei enthält ungültiges JSON und kann nicht gespeichert werden ")]),n("v-spacer"),n("v-btn",{attrs:{color:"warning",text:""},on:{click:e.resetComposerJson}},[e._v(" Reset ")]),n("v-btn",{attrs:{color:"primary",text:"",disabled:!e.valid},on:{click:e.clickSaveComposerJson}},[e._v(" Speichern ")])],1)],1)],1)},me=[],ve=(n("c197"),n("a878"),n("431a")),ge=n.n(ve),he=(n("fdfb"),n("f393"),{name:"ComposerJsonDialog",props:["value"],components:{VuePrismEditor:ge.a},data:function(){return{contents:"",valid:!0,lastValidJson:"",loading:!1}},mounted:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,this.getComposerJson();case 3:this.lastValidJson=e.sent,this.resetComposerJson(),this.loading=!1;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),computed:Object(u["a"])({},Object(l["c"])(["composerJson"])),methods:Object(u["a"])({onInput:function(e){this.$emit("input",e)},clickSaveComposerJson:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,this.saveComposerJson(this.contents);case 3:this.loading=!1,this.onInput(!1);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),resetComposerJson:function(){this.contents=JSON.stringify(this.lastValidJson||this.composerJson,null,2)}},Object(l["b"])(["getComposerJson","setComposerJson","saveComposerJson"])),watch:{composerJson:function(e){this.contents=JSON.stringify(e,null,2)},contents:function(e){try{var t=JSON.parse(e);this.setComposerJson(t),this.valid=!0}catch(n){this.valid=!1}}}}),fe=he,be=n("0798"),ke=Object(g["a"])(fe,pe,me,!1,null,"feed8f38",null),xe=ke.exports;f()(ke,{VAlert:be["a"],VBtn:b["a"],VCard:k["a"],VCardActions:x["a"],VCardText:x["b"],VCardTitle:x["c"],VDialog:C["a"],VDivider:ue["a"],VIcon:U["a"],VSpacer:w["a"]});var Ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{value:e.value,width:"1000",scrollable:""},on:{input:e.onInput},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({staticClass:"mr-2",attrs:{color:"deep-orange",fab:""}},a),[n("v-icon",[e._v("mdi-source-repository")])],1)]}}])},[n("v-card",{attrs:{loading:e.loading}},[n("v-card-title",{staticClass:"headline",attrs:{"primary-title":""}},[e._v(" Paketquellen bearbeiten ")]),n("v-card-text",[n("v-data-table",{attrs:{items:e.repositories,headers:e.headers},scopedSlots:e._u([{key:"item.action",fn:function(t){var a=t.item;return[n("v-btn",{attrs:{fab:"",color:"red darken-1",text:"",icon:"",small:""},on:{click:function(t){return t.stopPropagation(),e.clickRemoveRepository(a)}}},[n("v-icon",[e._v(" mdi-delete ")])],1)]}}])}),n("v-divider"),n("v-form",[n("v-container",{attrs:{fluid:""}},[n("v-subheader",[e._v("Paketquelle hinzufügen")]),n("v-row",{attrs:{align:"center"}},[n("v-col",{attrs:{cols:"4"}},[n("v-select",{attrs:{label:"Typ",items:e.repositoryTypes,"prepend-icon":"mdi-briefcase-search","return-object":!1,"hide-details":""},model:{value:e.repositoryType,callback:function(t){e.repositoryType=t},expression:"repositoryType"}})],1),n("v-col",{attrs:{cols:"5"}},[n("v-text-field",{attrs:{label:"URL","hide-details":""},model:{value:e.repositoryUrl,callback:function(t){e.repositoryUrl=t},expression:"repositoryUrl"}})],1),n("v-col",{attrs:{cols:"3"}},[n("v-btn",{staticClass:"mt-3",attrs:{color:"primary",disabled:!e.repositoryUrl,small:""},on:{click:e.addRepository}},[n("v-icon",[e._v("mdi-plus")]),e._v(" Hinzufügen ")],1)],1)],1)],1)],1)],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary",text:"",disabled:!e.valid},on:{click:e.clickSaveComposerJson}},[e._v(" Speichern ")])],1)],1)],1)},we=[],ye=(n("d81d"),n("4fad"),n("5319"),{name:"ComposerRepositoriesDialog",props:["value"],data:function(){return{headers:[{text:"Typ",value:"type"},{text:"URL",value:"url"},{text:"Aktionen",value:"action",sortable:!1}],valid:!0,loading:!1,modifiedComposerJson:void 0,repositoryUrl:"",repositoryType:"composer",repositoryTypes:[{value:"composer",text:"Composer"},{value:"path",text:"Pfad"},{value:"git",text:"GIT"}]}},mounted:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,this.getComposerJson();case 3:this.modifiedComposerJson=this.composerJson,this.loading=!1;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),computed:Object(u["a"])({repositories:function(){return this.modifiedComposerJson&&this.modifiedComposerJson.repositories?Object.entries(this.modifiedComposerJson.repositories).map((function(e){return Object.assign({},e[1],{key:e[0]})})):[]}},Object(l["c"])(["composerJson"])),methods:Object(u["a"])({onInput:function(e){this.$emit("input",e)},clickSaveComposerJson:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,this.saveComposerJson(JSON.stringify(this.modifiedComposerJson,null,2));case 3:this.loading=!1,this.onInput(!1);case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),clickRemoveRepository:function(e){var t=Object.assign({},this.modifiedComposerJson.repositories);delete t[e.key];var n=Object.assign({},this.modifiedComposerJson);n.repositories=t,this.modifiedComposerJson=n},addRepository:function(){var e=Object.assign({},this.modifiedComposerJson.repositories),t=this.repositoryUrl.replace(/[\W_]+/g,"");e[t]={type:this.repositoryType,url:this.repositoryUrl};var n=Object.assign({},this.modifiedComposerJson);n.repositories=e,this.modifiedComposerJson=n,this.repositoryUrl=void 0}},Object(l["b"])(["getComposerJson","setComposerJson","saveComposerJson"])),watch:{composerJson:function(e){this.modifiedComposerJson=e}}}),Ve=ye,_e=n("e0c7"),Pe=Object(g["a"])(Ve,Ce,we,!1,null,"d4f87c5a",null),je=Pe.exports;f()(Pe,{VBtn:b["a"],VCard:k["a"],VCardActions:x["a"],VCardText:x["b"],VCardTitle:x["c"],VCol:X["a"],VContainer:Y["a"],VDataTable:A["a"],VDialog:C["a"],VDivider:ue["a"],VForm:Z["a"],VIcon:U["a"],VRow:te["a"],VSelect:ne["a"],VSpacer:w["a"],VSubheader:_e["a"],VTextField:B["a"]});var Oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{value:e.value,width:"1000"},on:{input:e.onInput},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({attrs:{color:"deep-orange",fab:""}},a),[n("v-icon",[e._v("mdi-apple-keyboard-command")])],1)]}}])},[n("v-card",[n("v-card-title",{staticClass:"headline",attrs:{"primary-title":""}},[e._v(" Oxid Console Kommando ausführen ")]),n("v-card-text",[e._v(" Wählen Sie das Kommando das ausgeführt werden soll "),n("v-select",{attrs:{items:e.commands,"item-text":"title",hint:""+e.selectedCommandString,"item-value":"command","persistent-hint":"","return-object":""},model:{value:e.cmd,callback:function(t){e.cmd=t},expression:"cmd"}}),e.cmd&&e.cmd.needsModulePath?n("v-text-field",{staticClass:"mt-5",attrs:{label:"Modulpfad",placeholder:"z.B. source/modules/meinmodul/",outlined:""},model:{value:e.module,callback:function(t){e.module=t},expression:"module"}}):e._e(),e.output?n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.output,expression:"output"}],staticClass:"pa-3 blue-grey darken-4 white--text",staticStyle:{width:"100%"},attrs:{readonly:"",rows:"5"},domProps:{value:e.output},on:{input:function(t){t.target.composing||(e.output=t.target.value)}}}):e._e()],1),n("v-divider"),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"primary",text:""},on:{click:e.submitCommand}},[e._v(" Ausführen ")])],1)],1)],1)},Je=[],Te={name:"ConsoleDialog",props:["value"],data:function(){return{cmd:void 0,module:void 0,commands:[{command:"oe:module:install-configuration",title:"Modulkonfiguration installieren",needsModulePath:!0},{command:"oe:module:apply-configuration",title:"Modulkonfiguration anwenden",needsModulePath:!0},{command:"oe:module:reset-configurations",title:"Modulkonfiguration zurücksetzen",needsModulePath:!0},{command:"oe:oxideshop-update-component:delete-module-data-from-database",title:"Moduldaten aus der Datenbank löschen",needsModulePath:!1},{command:"oe:oxideshop-update-component:install-all-modules",title:"Alle Module installieren",needsModulePath:!1},{command:"oe:oxideshop-update-component:transfer-module-data",title:"Moduldaten übertragen",needsModulePath:!1}],output:!1}},computed:{selectedCommandString:function(){return this.cmd?this.cmd.command:""},fullCommand:function(){return this.cmd&&this.cmd.needsModulePath?this.selectedCommandString+" "+this.module:this.selectedCommandString}},methods:Object(u["a"])({onInput:function(e){this.$emit("input",e)},submitCommand:function(){var e=Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.output=!1,e.next=3,this.runConsole(this.fullCommand);case 3:this.output=e.sent;case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},Object(l["b"])(["runConsole"]))},Se=Te,Re=Object(g["a"])(Se,Oe,Je,!1,null,"17509a96",null),De=Re.exports;f()(Re,{VBtn:b["a"],VCard:k["a"],VCardActions:x["a"],VCardText:x["b"],VCardTitle:x["c"],VDialog:C["a"],VDivider:ue["a"],VIcon:U["a"],VSelect:ne["a"],VSpacer:w["a"],VTextField:B["a"]});var Me={components:{ConsoleDialog:De,ComposerRepositoriesDialog:je,ComposerJsonDialog:xe,CommandDialog:de,PackageForm:re,PackageList:E}},Ie=Me,Le=n("7496"),Ae=n("40dc"),$e=n("a75b"),Ue=n("553a"),Be=Object(g["a"])(Ie,r,o,!1,null,null,null),Fe=Be.exports;f()(Be,{VApp:Le["a"],VAppBar:Ae["a"],VCol:X["a"],VContainer:Y["a"],VContent:$e["a"],VFooter:Ue["a"],VRow:te["a"],VSpacer:w["a"],VToolbarTitle:V["a"]});var Ee=n("f309"),ze=n("0fe0"),Ne=n.n(ze),He=n("da5b"),Ke=n.n(He);a["a"].use(Ee["a"]);var We=new Ee["a"]({lang:{locales:{de:Ne.a,en:Ke.a},current:"de"}}),Ge=K.a.create(),qe={get:function(e){return Ge.get(e)},post:function(e,t){return Ge.post(e,t)}};a["a"].use(l["a"]);var Qe=null,Xe=new Promise((function(e){Qe=e})),Ye=new l["a"].Store({getters:{token:function(){return Xe},loading:function(e){return e.loading},packages:function(e){return e.packages&&e.packages.installed?e.packages.installed:[]},composerJson:function(e){return e.composerJson}},state:{packages:{},token:void 0,loading:!0,composerJson:void 0},mutations:{setPackages:function(e,t){e.packages=t},setLoading:function(e,t){e.loading=t},setComposerJson:function(e,t){e.composerJson=t},setToken:function(e,t){var n=e.token;e.token=t,n!==t&&Qe(t)}},actions:{setToken:function(e,t){var n=e.commit;n("setToken",t)},initPackages:function(e){var t=e.dispatch,n=e.getters,a=e.commit;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n.packages.length){e.next=4;break}return e.abrupt("return",t("loadPackages"));case 4:a("setLoading",!1);case 5:case"end":return e.stop()}}),e)})))()},loadPackages:function(e){var t=e.commit,n=e.getters;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t("setLoading",!0),e.abrupt("return",n.token.then((function(e){return qe.get("/admin/index.php?cl=composerman&fnc=getpackages&stoken="+e).then((function(e){t("setPackages",e.data),t("setLoading",!1)}))})));case 2:case"end":return e.stop()}}),e)})))()},addPackage:function(e,t){var n=e.commit,a=e.dispatch,r=e.getters;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n("setLoading",!0),e.abrupt("return",r.token.then((function(e){return qe.get("/admin/index.php?cl=composerman&fnc=addpackage&stoken="+e+"&package="+t).then((function(e){return a("loadPackages"),e.data}))})));case 2:case"end":return e.stop()}}),e)})))()},updatePackage:function(e,t){var n=e.commit,a=e.dispatch,r=e.getters;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n("setLoading",!0),e.abrupt("return",r.token.then((function(e){return qe.get("/admin/index.php?cl=composerman&fnc=updatepackage&stoken="+e+"&package="+t).then((function(e){return a("loadPackages"),e.data}))})));case 2:case"end":return e.stop()}}),e)})))()},removePackage:function(e,t){var n=e.commit,a=e.dispatch,r=e.getters;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n("setLoading",!0),e.abrupt("return",r.token.then((function(e){return qe.get("/admin/index.php?cl=composerman&fnc=removepackage&stoken="+e+"&package="+t).then((function(e){return a("loadPackages"),e.data}))})));case 2:case"end":return e.stop()}}),e)})))()},getComposerJson:function(e){var t=e.commit,n=e.getters;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!n.composerJson){e.next=4;break}return e.abrupt("return",n.composerJson);case 4:return t("setLoading",!0),e.abrupt("return",n.token.then((function(e){return qe.get("/admin/index.php?cl=composerman&fnc=getcomposerjson&stoken="+e).then((function(e){return t("setComposerJson",e.data),e.data}))})));case 6:case"end":return e.stop()}}),e)})))()},setComposerJson:function(e,t){var n=e.commit;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:n("setComposerJson",t);case 1:case"end":return e.stop()}}),e)})))()},saveComposerJson:function(e,t){var n=e.commit,a=e.getters;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n("setLoading",!0),e.abrupt("return",a.token.then((function(e){var n=new FormData;return n.set("stoken",e),n.set("cl","composerman"),n.set("fnc","savecomposerjson"),n.set("contents",t),qe.post("/admin/index.php",n).then((function(e){return e.data}))})));case 2:case"end":return e.stop()}}),e)})))()},runCommand:function(e,t){var n=e.commit,a=e.dispatch,r=e.getters;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n("setLoading",!0),e.abrupt("return",r.token.then((function(e){var n=new FormData;return n.set("stoken",e),n.set("cl","composerman"),n.set("fnc","runcommand"),n.set("cmd",t),qe.post("/admin/index.php",n).then((function(e){return a("loadPackages"),e.data}))})));case 2:case"end":return e.stop()}}),e)})))()},runConsole:function(e,t){var n=e.commit,a=e.dispatch,r=e.getters;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n("setLoading",!0),e.abrupt("return",r.token.then((function(e){var n=new FormData;return n.set("stoken",e),n.set("cl","composerman"),n.set("fnc","runoeconsole"),n.set("cmd",t),qe.post("/admin/index.php",n).then((function(e){return a("loadPackages"),e.data}))})));case 2:case"end":return e.stop()}}),e)})))()}},modules:{}});a["a"].config.productionTip=!1,window.vm=new a["a"]({vuetify:We,store:Ye,render:function(e){return e(Fe)}}).$mount("#app")},cf72:function(e,t,n){"use strict";var a=n("065a"),r=n.n(a);r.a}});
//# sourceMappingURL=app.ff4dfa66.js.map